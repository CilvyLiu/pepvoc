<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit 4: Nature & Farm | Junior Explorer</title>
    <style>
        :root { --primary: #FFD93D; --accent: #6BCB77; --bg: #FFFEF2; --card-bg: #FFFFFF; }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: #444; margin: 0; padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        .status-bar {
            position: sticky; top: 0; z-index: 1000;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-bottom: 4px solid var(--primary); padding: 15px 20px;
            display: flex; align-items: center; justify-content: space-between;
        }
        #word-display { font-size: 28px; font-weight: 900; color: #D4A017; text-transform: capitalize; }
        #logic-display { font-size: 14px; color: #666; margin-top: 2px; }

        .vocab-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); 
            gap: 12px; padding: 20px; 
        }
        
        .card {
            background: var(--card-bg); border-radius: 20px; padding: 18px;
            text-align: center; cursor: pointer; border: 3px solid #FFF9E5;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 0 #F5E6CC;
        }
        .card:active { transform: translateY(4px); box-shadow: 0 2px 0 #F5E6CC; }
        .card.active { border-color: var(--primary); background: #FFFDF0; transform: scale(1.05); }

        .word-txt { font-size: 18px; font-weight: bold; color: #2D3436; display: block; }
        .ipa-txt { font-size: 11px; color: #B0A088; font-family: Arial; }
        
        .back-btn { background: #2D3436; color: white; border: none; padding: 10px 18px; border-radius: 50px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

    <div class="status-bar">
        <div class="info">
            <div id="word-display">â˜€ï¸ Nature Lab</div>
            <div id="logic-display">æ¬¢è¿æ¥åˆ°è‡ªç„¶å†œåœºï¼Œç‚¹å‡»æ¤ç‰©å¬è¯»éŸ³</div>
        </div>
        <button class="back-btn" onclick="location.href='../index.html'">è¿”å›</button>
    </div>

    <div class="vocab-grid" id="container">ğŸ“¡ æ­£åœ¨åŒæ­¥è‡ªç„¶æ•°æ®...</div>

    <script>
        const wordEl = document.getElementById('word-display');
        const logicEl = document.getElementById('logic-display');
        const container = document.getElementById('container');

        function unlockAudio() {
            const silent = new SpeechSynthesisUtterance("");
            window.speechSynthesis.speak(silent);
            document.removeEventListener('touchstart', unlockAudio);
        }
        document.addEventListener('touchstart', unlockAudio);

        function playUK(text) {
            const audioUrl = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&type=2`;
            const audio = new Audio(audioUrl);
            audio.play().catch(() => {
                window.speechSynthesis.cancel();
                const speech = new SpeechSynthesisUtterance(text);
                speech.lang = 'en-GB'; 
                speech.rate = 0.85; 
                window.speechSynthesis.speak(speech);
            });
        }

        function activate(item, el) {
            wordEl.innerText = item.word;
            logicEl.innerText = `${item.chinese} | ${item.logic}`;
            wordEl.style.transform = "scale(1.1)";
            setTimeout(() => wordEl.style.transform = "scale(1)", 200);
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            playUK(item.word);
        }

        fetch('data.json')
            .then(res => res.json())
            .then(data => {
                container.innerHTML = "";
                data.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.onclick = () => activate(item, card);
                    card.innerHTML = `<span class="word-txt">${item.word}</span><span class="ipa-txt">${item.ipa}</span>`;
                    container.appendChild(card);
                });
            });
    </script>
</body>
</html>
